<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Obq_Environment</title>

</head>
<body>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<td style="background-color: black; width: 20px;"></td>
<td style="background-color: black;"><big><big><br>
<br>
</big></big></td>
<td style="width: 20px; background-color: black;"></td>
</tr>
<tr>
<td style="background-color: rgb(33, 33, 33);"></td>
<td style="background-color: rgb(33, 33, 33);"></td>
<td style="background-color: rgb(33, 33, 33);"></td>
</tr>
<tr>
<td style="background-color: rgb(97, 97, 97);"></td>
<td style="background-color: rgb(97, 97, 97);"><big><big><font color="White">Obq_Environment</font>
</big></big></td>
<td style="background-color: rgb(97, 97, 97);"></td>
</tr>
<tr>
<td></td>
<td style="background-color: white;">
<p><font color="Blue">| &nbsp;<a href="#Description">Description</a>
&nbsp;| &nbsp;<a href="#Installation">Installation</a>
&nbsp;|&nbsp;</font><font color="Blue"> <a href="#Usage">Render Tree Usage</a>
&nbsp;</font><font color="Blue">|</font><font color="Blue">&nbsp;</font><font color="Blue"><a href="#Copyrights">Copyrights</a>
&nbsp;|</font></p>
<p><span style="font-weight: bold;">Category:</span>
Environment </p>
<p><span style="font-weight: bold;">Shader
Family:</span> Environment</p>
<p><span style="font-weight: bold;">Output:</span>
Color</p>
<p>Obq_Environement is an upgraded version of
sta_environment. You can also plug it in the environment port of a
material to use with Phong,
Reflection shaders and more.
</p>
</td>
<td></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: rgb(149, 149, 149); font-weight: bold;"><font color="White"><a name="Description"></a>Texture</font></td>
<td style="background-color: white;"></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="2">
<tbody>
<tr>
<td style="height: 20px; text-align: left; vertical-align: top; background-color: rgb(231, 231, 231); width: 150px;"><span style="font-weight: bold;">Image</span></td>
<td style="background-color: rgb(231, 231, 231);">The
image to use as texture.<span style="font-style: italic;"></span></td>
<td style="width: 40px;"></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Use Alpha</span></td>
<td style="background-color: rgb(231, 231, 231);">Use
the alpha channel of the image in the evaluation.<br>
<br>
<span style="font-style: italic;">This is off
by default and unless you need it to drive an effect, it should remain
off.</span></td>
<td></td>
</tr>
<tr><td style="background-color: rgb(231, 231, 231); font-weight: bold;"><span class="MenuCascade" id="GUID-8B685B95-6F36-4FE2-9607-262574271851">Opaque Background</span></td><td style="background-color: rgb(231, 231, 231);">Uncheck if you want the background to be black with&nbsp;alpha = 0.</td><td></td></tr><tr>
<td style="height: 20px; width: 120px; text-align: left; background-color: rgb(231, 231, 231); vertical-align: top; font-weight: bold;"><span class="MenuCascade" id="GUID-8B685B95-6F36-4FE2-9607-262574271851">Mapping Mode</span></td>
<td style="background-color: rgb(231, 231, 231); vertical-align: top;">How
to map this texture on a virtual environment sphere.<br>
<ul>
<li>Mirrored Ball</li>
<li>Angular Map<br>
</li>
<li>Lattitude-Longitude<br>
</li>
<li>Vertical Cross</li>
</ul>
</td>
<td style="width: 40px;"></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Flip U</span></td>
<td style="background-color: rgb(231, 231, 231);">Flips
the image horizontally.</td>
<td></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Flip V</span></td>
<td style="background-color: rgb(231, 231, 231);">Flips
the image vertically.</td>
<td></td>
</tr>
</tbody>
</table>
<br>
<br>
</td>
<td style="background-color: white;">
</td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: rgb(149, 149, 149); font-weight: bold;"><font color="White">Ray Option in Object Render Tree</font></td>
<td style="background-color: white;"></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="2">
<tbody>
<tr>
<td style="height: 20px; text-align: left; vertical-align: top; background-color: rgb(231, 231, 231); width: 150px;"><span style="font-weight: bold;">Direction</span></td>
<td style="background-color: rgb(231, 231, 231);">When
using this shader in the environment port of an object's material, you
can use different directions :<br>
<ul>
<li>View Direction</li>
<li>View Direction (Inverted)<br>
</li>
<li>Surface Normal Direction</li>
<li>Surface Normal Direction (no bump)</li>
<li>Surface Normal Direction (Inverted)</li>
<li>Surface Normal Direction (no bump, Inverted)</li>
<li>Surface Normal Direction (Front-Facing)</li>
<li>Surface Normal Direction (Back-Facing)</li>
<li>Reflection Direction</li>
<li>Reflection Direction (no bump)</li>
<li>Refraction Direction</li>
<li>Refraction Direction (no bump)</li>
<li>Custom Direction [ port&nbsp;accessible in
the "Ray Options"group in the render tree ]</li>
</ul>
<span style="font-style: italic;">Note : this
option doesn't apply to pass shaders because the direction of ray that
hits the background will&nbsp;be used.</span>
<span style="font-style: italic;"></span></td>
<td style="width: 40px;"></td>
</tr>
<tr>
<td style="height: 20px; width: 120px; text-align: left; background-color: rgb(231, 231, 231); vertical-align: top; font-weight: bold;"><span class="MenuCascade" id="GUID-8B685B95-6F36-4FE2-9607-262574271851">IOR</span></td>
<td style="background-color: rgb(231, 231, 231); vertical-align: top;">Available
when Refracted Ray&nbsp;is used, IOR stands for Index of refraction.</td>
<td style="width: 40px;"></td>
</tr>
</tbody>
</table>
<br>
<br>
</td>
<td style="background-color: white;">
</td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: rgb(149, 149, 149); font-weight: bold;"><font color="White">Intensities</font></td>
<td style="background-color: white;"></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="2">
<tbody>
<tr>
<td style="height: 20px; text-align: left; vertical-align: top; width: 150px; background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Camera</span></td>
<td style="background-color: rgb(231, 231, 231);">This
is a basic value
multiplier.&nbsp;In a pass shader,
this is for the eye rays that hits the background. When used in the
environment port&nbsp;an object's material, this is the only useful
multiplier and works for all direction.<br>
<br>
<span style="font-style: italic;">Note : For
all of these intensities, if the value is 0, it returns black without
evaluating anything.</span>
<span style="font-style: italic;"></span></td>
<td style="width: 40px;"></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Diffuse GI</span></td>
<td style="background-color: rgb(231, 231, 231);">Multiplier
for the indirect lighting caused by this environment. (Pass Shader only)</td>
<td></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Reflection</span></td>
<td style="background-color: rgb(231, 231, 231);">Used
for glossy and mirror reflection that hits the
background.&nbsp;(Pass Shader only)</td>
<td></td>
</tr>
<tr>
<td style="height: 20px; width: 120px; text-align: left; background-color: rgb(231, 231, 231); vertical-align: top; font-weight: bold;"><span class="MenuCascade" id="GUID-8B685B95-6F36-4FE2-9607-262574271851">Refraction</span></td>
<td style="background-color: rgb(231, 231, 231); vertical-align: top;">Used
for refracted ray that hits the background.&nbsp;(Pass Shader only)</td>
<td style="width: 40px;"></td>
</tr>
</tbody>
</table>
<br>
<br>
</td>
<td style="background-color: white;">
</td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: rgb(149, 149, 149); font-weight: bold;"><font color="White">Roughness</font></td>
<td style="background-color: white;"></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="2">
<tbody>
<tr>
<td style="height: 20px; text-align: left; vertical-align: top; background-color: rgb(231, 231, 231); width: 150px;"><span style="font-weight: bold;">Sample Level</span></td>
<td style="background-color: rgb(231, 231, 231);"><span>The
square root of the number of samples taken to create blurred background
effect.<br>
<br>
<span style="font-style: italic;">If this is
set to 5, 25 rays will be shot.</span></span><span></span></td>
<td style="width: 40px;"></td>
</tr>
<tr>
<td style="height: 20px; text-align: left; vertical-align: top; background-color: rgb(231, 231, 231); width: 150px;"><span style="font-weight: bold;">Cone Angle</span></td>
<td style="background-color: rgb(231, 231, 231);">The
maximum cone angle in which the samples will be taken
from.&nbsp;If set to 0, only 1 sample will be taken no matter the
sample level.<br>
<br>
<span style="font-style: italic;">Shooting
more rays will soften the noise.</span></td>
<td style="width: 40px;"></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Cos Lobe Gloss</span></td>
<td style="background-color: rgb(231, 231, 231);">This
gloss translates into the cosine exponent of the cone distribution.
This means that a value of 0 will produce&nbsp;a uniform
distribution
inside the cone while a higher value will give more of an elleptical
shape&nbsp;distribution (Phong peaks). In other words, using a cone
angle of 180 will give exactly a cos^n distribution.<br>
<br>
<span style="font-style: italic;">The equation
used to transform gloss into exponent is : Exponent = Gloss/(1-Gloss)^8<br>
Ex: A Gloss of 0.188 gives</span><span style="font-style: italic;"> approximately</span><span style="font-style: italic;"> an exponent of 1.</span></td>
<td></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Clamp Sample Count</span></td>
<td style="background-color: rgb(231, 231, 231);">Check
this and use the Max Sample Count to limit the number of environmenet
samples taken.<span style="font-style: italic;"></span></td>
<td></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Max Sample Count</span></td>
<td style="background-color: rgb(231, 231, 231);"><span style="font-style: italic;"><span style="font-style: italic;"></span></span>The
maximum number of samples taken from the environment.<span style="font-style: italic;"><span style="font-style: italic;"></span><br>
<br>
Sample
Level isn't texturable because the random samples are generated at
update time. Using this port, you can texture the maximum number of
rays shot knowing that it can never be higher than the square of
&nbsp;the Sample Level value.</span></td>
<td></td>
</tr>
<tr>
<td style="background-color: rgb(231, 231, 231);"><span style="font-weight: bold;">Max Sample Count Multiplier</span></td>
<td style="background-color: rgb(231, 231, 231);">A
simple multiplier used to raise an 8-bit picture value above 1.<br>
<br>
<span style="font-style: italic;">You can set
this to 255 and texture with the absolute value of samples you want.</span></td>
<td></td>
</tr>
</tbody>
</table>
<br>
<br>
</td>
<td style="background-color: white;">
</td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: rgb(149, 149, 149); font-weight: bold;"><font color="White">Transformations</font></td>
<td style="background-color: white;"></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="2">
<tbody>
<tr>
<td style="height: 20px; text-align: left; vertical-align: top; background-color: rgb(231, 231, 231); width: 150px;"><span style="font-weight: bold;">Use rotation at a global scope</span></td>
<td style="background-color: rgb(231, 231, 231);"><span>Checking
this option will calculates the rotation matrix at update time.</span>
Meaning it'll be faster if you don't need per pixel rotations.</td>
<td style="width: 40px;"></td>
</tr>
<tr>
<td style="height: 20px; text-align: left; vertical-align: top; background-color: rgb(231, 231, 231); width: 150px;"><span style="font-weight: bold;">Rotation</span></td>
<td style="background-color: rgb(231, 231, 231);">Rotation
angles in degrees around the principal axis.<span style="font-style: italic;"><br>
</span></td>
<td style="width: 40px;"></td>
</tr>
</tbody>
</table>
<br>
<br>
</td>
<td style="background-color: white;">
</td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: rgb(149, 149, 149); font-weight: bold;"><font color="White"><a name="Installation"></a>Installation</font></td>
<td style="background-color: white;"></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="2">
<tbody>
<tr>
<td>
<ol>
<li>Copy the <strong><em>Obq_Environment.dll</em></strong>
in the proper
"<strong><em>SItoA\Application\bin\nt-x86-64</em></strong>"
folder and the <strong><em>Obq_</em></strong><strong><em>Environment</em></strong><strong><em>.spdl</em></strong>
in
the proper "<strong><em>SItoA\Application\spdl</em></strong>"
folder.</li>
<li>You'll need to install <a target="_blank" href="http://www.microsoft.com/download/en/details.aspx?id=14632">Microsoft
Visual C++ 2010 redistributable package (x64)</a> if not already
done.</li>
</ol>
</td>
<td style="width: 40px;"><br>
</td>
</tr>
</tbody>
</table>
<br>
<br>
</td>
<td style="background-color: white;">
</td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: rgb(149, 149, 149); font-weight: bold;"><font color="White"><a name="Usage"></a>Render
Tree Usage</font></td>
<td style="background-color: white;"></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="2">
<tbody>
<tr>
<td>Obq_Environement is great for use with the
environment port of an
object's render tree when using the old Phong shader ( and Reflection
shader ). But if you want to use it with the standard shader, you'll
have to use it as a pass shader.<br>
<br>
In this example, we use the Obq_Environment of the pass shader
to&nbsp;light the sphere, but we secretly render the reflections
from the Obq_SurfaceEnvironment node and store it inside an AOV without
affecting the main result.<br>
<br>
<img style="width: 100%;" onclick="window.open('environmentex.jpg')" alt="Environment Example" src="environmentex.jpg"></td>
<td style="width: 40px;"><br>
</td>
</tr>
</tbody>
</table>
<br>
<br>
</td>
<td style="background-color: white;">
</td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: rgb(149, 149, 149); font-weight: bold;"><font color="White"><a name="Copyrights"></a>Copyrights</font></td>
<td style="background-color: white;"></td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="5" cellspacing="2">
<tbody>
<tr>
<td><small><big>Copyright (c) 2012
Marc-Antoine Desjardins, ObliqueFX (madesjardins@obliquefx.com)<br>
<br>
Permission is hereby granted, free of charge, to any person obtaining a
copy <br>
of this software and associated documentation files (the "Software"),
to deal <br>
in the Software without restriction, including without limitation the
rights <br>
to use, copy, modify, merge, publish, distribute, sublicense, and/or
sell <br>
copies of the Software, and to permit persons to whom the Software is <br>
furnished to do so, subject to the following conditions:<br>
<br>
The above copyright notice and this permission notice shall be included
in all <br>
copies or substantial portions of the Software.<br>
<br>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR <br>
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, <br>
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
<br>
THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
OTHER <br>
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, <br>
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
IN THE <br>
SOFTWARE.</big><br>
<br>
<big>Licensed under the MIT license: <a href="http://www.opensource.org/licenses/mit-license.php" target="_blank">http://www.opensource.org/licenses/mit-license.php</a></big></small>
</td>
<td style="width: 40px;"><br>
</td>
</tr>
</tbody>
</table>
<br>
<br>
</td>
<td style="background-color: white;">
</td>
</tr>
<tr>
<td style="background-color: white;"></td>
<td style="background-color: white;">
<hr style="width: 100%; height: 2px;"></td>
<td style="background-color: white;"></td>
</tr>
</tbody>
</table>
<br>
<br>
</body></html>